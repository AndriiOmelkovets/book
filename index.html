<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>test</title>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
  <link href="css/style.css" rel="stylesheet" />
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.8/angular.min.js"></script>
  <script src="js/app.js"></script>
  <script src="js/controller/controller.js"></script>
  <script src="js/services/factory.js"></script>
</head>
<body ng-app="app" ng-controller="controller as vm" ng-cloak>
  <div class="wrap" ng-if="vm.statusOk">
    <h1>{{vm.title}}</h1>
    <hr />
    <table class="table table-hover table-bordered">
      <thead>
        <tr class="table-header">
          <th>ID</th>
          <th>Название</th>
          <th>Авторы</th>
          <th>Дата выпуска</th>
          <th>Серийный номер</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="book in vm.books">
          <td>{{book.id}}</td>
          <td>{{book.name}}</td>
          <td>{{book.author}}</td>
          <td>{{book.date}}</td>
          <td ng-click="vm.showModal($index)" class="cursor-click">{{book.number}}</td>
        </tr>
      </tbody>
    </table>
    <div class="modal bs-example-modal-xs" ng-if="vm.showWindow">
      <div class="modal-dialog modal-xs">
        <div class="modal-content">
          <span class="close-window cursor-click" ng-click="vm.showWindow = false">x</span>
          <h4 class="book-title">{{vm.books[vm.index].name}}</h4>
          <div class="book-img">
            <img ng-src="{{vm.books[vm.index].img}}" alt="image" />
          </div>
          <div>
            <span class="span-border-right">Авторы: {{vm.books[vm.index].author}}</span>
            <span class="span-border-right">Год выпуска: {{vm.books[vm.index].date}}</span>
            <span>Номер: {{vm.books[vm.index].number}}</span>
          </div>
          <hr />
          <p>
            {{vm.books[vm.index].description}}
          </p>
        </div>
      </div>
    </div>
  </div>
  <div ng-show="vm.statusError" class="error">
    <h1>Что то пошло не так!</h1>
  </div>
</body>
</html>
